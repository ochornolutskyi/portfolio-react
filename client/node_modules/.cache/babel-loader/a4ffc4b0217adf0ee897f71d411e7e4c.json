{"ast":null,"code":"import _classCallCheck from\"/home/superproger/workspace/portfolio-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/superproger/workspace/portfolio-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/superproger/workspace/portfolio-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/superproger/workspace/portfolio-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import ProjectsListItem from\"./ProjectsListItem/ProjectsListItem\";var NavItem=/*#__PURE__*/function(_Component){_inherits(NavItem,_Component);var _super=_createSuper(NavItem);function NavItem(props){var _this;_classCallCheck(this,NavItem);_this=_super.call(this,props);_this.state={listPosition:{right:null,bottom:null}};return _this;}_createClass(NavItem,[{key:\"render\",value:function render(){var _this2=this;var filteredCategoryProjectsList=this.props.projectsList.filter(function(project){if(project.category){return project.category.toUpperCase().trim()===_this2.props.category.toUpperCase().trim();}return null;});//create the child items of the filtering projects list\nvar hoveredCurrentList=React.createRef();var hoveredCurrentListLastChild=React.createRef();var filteredCategorydProjectsListItems=filteredCategoryProjectsList.map(function(project,index){if(index===filteredCategoryProjectsList.length-1){return/*#__PURE__*/React.createElement(ProjectsListItem,{ref:hoveredCurrentListLastChild,key:index,projectTitle:project.title,projectLinkHref:project.id,linkType:_this2.props.liClass});}else{return/*#__PURE__*/React.createElement(ProjectsListItem,{key:index,projectTitle:project.title,projectLinkHref:project.title,linkType:_this2.props.liClass});}});//positioning a listwith category projects\nvar changePosition={setHeaderNavPosition:function setHeaderNavPosition(difference){_this2.setState({listPosition:{right:difference}});},setReviewNavPosition:function setReviewNavPosition(difference){_this2.setState({listPosition:{bottom:-difference}});},positioningHeaderList:function positioningHeaderList(lastChildRef){var lastChild=lastChildRef.current;if(lastChild!==null){var positionRight=lastChild.getBoundingClientRect().right;var clientScreenWidth=document.body.offsetWidth;if(positionRight!==null){if(positionRight>clientScreenWidth){var difference=positionRight-clientScreenWidth;this.setHeaderNavPosition(difference);}}}},positioningReviewList:function positioningReviewList(hoveredCurrentList){var listBottom=hoveredCurrentList.current.getBoundingClientRect().bottom;var extremeBottom=document.querySelector(\".projectReview-nav\").getBoundingClientRect().bottom;if(listBottom>extremeBottom){var difference=listBottom-extremeBottom;this.setReviewNavPosition(difference);}},removePositionList:function removePositionList(){_this2.setState({listPosition:null});}};var positioningList=function positioningList(classValue){if(classValue===\"header-nav-ul-li\".trim()){return changePosition.positioningHeaderList(hoveredCurrentListLastChild);}else if(classValue===\"projectReview-nav-ul-li\".trim()){return changePosition.positioningReviewList(hoveredCurrentList);}};return/*#__PURE__*/React.createElement(\"li\",{className:this.props.hasOwnProperty(\"liClass\")?this.props.liClass:null,onMouseEnter:function onMouseEnter(){positioningList(_this2.props.liClass);},onMouseLeave:changePosition.removePositionList},this.props.category,/*#__PURE__*/React.createElement(\"ul\",{ref:hoveredCurrentList,style:this.state.listPosition,className:\"menu-projects-list\"},filteredCategorydProjectsListItems.length!==0?filteredCategorydProjectsListItems:/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"#!\",className:\"a__disabled\"},\"Sorry, no projects\"))));}}]);return NavItem;}(Component);export default NavItem;","map":{"version":3,"sources":["/home/superproger/workspace/portfolio-react/client/src/components/ProjectsNav/NavItem/NavItem.js"],"names":["React","Component","ProjectsListItem","NavItem","props","state","listPosition","right","bottom","filteredCategoryProjectsList","projectsList","filter","project","category","toUpperCase","trim","hoveredCurrentList","createRef","hoveredCurrentListLastChild","filteredCategorydProjectsListItems","map","index","length","title","id","liClass","changePosition","setHeaderNavPosition","difference","setState","setReviewNavPosition","positioningHeaderList","lastChildRef","lastChild","current","positionRight","getBoundingClientRect","clientScreenWidth","document","body","offsetWidth","positioningReviewList","listBottom","extremeBottom","querySelector","removePositionList","positioningList","classValue","hasOwnProperty"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ProjectsListItem from \"./ProjectsListItem/ProjectsListItem\";\n\nclass NavItem extends Component {\n   constructor(props) {\n      super(props);\n      this.state = {\n         listPosition: {\n            right: null,\n            bottom: null,\n         },\n      };\n   }\n\n   render() {\n      const filteredCategoryProjectsList = this.props.projectsList.filter(\n         (project) => {\n            if (project.category) {\n               return (\n                  project.category.toUpperCase().trim() ===\n                  this.props.category.toUpperCase().trim()\n               );\n            }\n            return null;\n         }\n      );\n      //create the child items of the filtering projects list\n      const hoveredCurrentList = React.createRef();\n      const hoveredCurrentListLastChild = React.createRef();\n      const filteredCategorydProjectsListItems = filteredCategoryProjectsList.map(\n         (project, index) => {\n            if (index === filteredCategoryProjectsList.length - 1) {\n               return (\n                  <ProjectsListItem\n                     ref={hoveredCurrentListLastChild}\n                     key={index}\n                     projectTitle={project.title}\n                     projectLinkHref={project.id}\n                     linkType={this.props.liClass}\n                  />\n               );\n            } else {\n               return (\n                  <ProjectsListItem\n                     key={index}\n                     projectTitle={project.title}\n                     projectLinkHref={project.title}\n                     linkType={this.props.liClass}\n                  />\n               );\n            }\n         }\n      );\n      //positioning a listwith category projects\n      const changePosition = {\n         setHeaderNavPosition: (difference) => {\n            this.setState({ listPosition: { right: difference } });\n         },\n         setReviewNavPosition: (difference) => {\n            this.setState({ listPosition: { bottom: -difference } });\n         },\n         positioningHeaderList(lastChildRef) {\n            const lastChild = lastChildRef.current;\n            if (lastChild !== null) {\n               let positionRight = lastChild.getBoundingClientRect().right;\n               const clientScreenWidth = document.body.offsetWidth;\n               if (positionRight !== null) {\n                  if (positionRight > clientScreenWidth) {\n                     let difference = positionRight - clientScreenWidth;\n                     this.setHeaderNavPosition(difference);\n                  }\n               }\n            }\n         },\n         positioningReviewList(hoveredCurrentList) {\n            const listBottom = hoveredCurrentList.current.getBoundingClientRect()\n               .bottom;\n            const extremeBottom = document\n               .querySelector(\".projectReview-nav\")\n               .getBoundingClientRect().bottom;\n            if (listBottom > extremeBottom) {\n               let difference = listBottom - extremeBottom;\n               this.setReviewNavPosition(difference);\n            }\n         },\n         removePositionList: () => {\n            this.setState({\n               listPosition: null,\n            });\n         },\n      };\n      const positioningList = (classValue) => {\n         if (classValue === \"header-nav-ul-li\".trim()) {\n            return changePosition.positioningHeaderList(\n               hoveredCurrentListLastChild\n            );\n         } else if (classValue === \"projectReview-nav-ul-li\".trim()) {\n            return changePosition.positioningReviewList(hoveredCurrentList);\n         }\n      };\n\n      return (\n         <li\n            className={\n               this.props.hasOwnProperty(\"liClass\") ? this.props.liClass : null\n            }\n            onMouseEnter={() => {\n               positioningList(this.props.liClass);\n            }}\n            onMouseLeave={changePosition.removePositionList}\n         >\n            {this.props.category}\n            <ul\n               ref={hoveredCurrentList}\n               style={this.state.listPosition}\n               className=\"menu-projects-list\"\n            >\n               {filteredCategorydProjectsListItems.length !== 0 ? (\n                  filteredCategorydProjectsListItems\n               ) : (\n                  <li>\n                     <a href=\"#!\" className=\"a__disabled\">\n                        Sorry, no projects\n                     </a>\n                  </li>\n               )}\n            </ul>\n         </li>\n      );\n   }\n}\n\nexport default NavItem;\n"]},"metadata":{},"sourceType":"module"}