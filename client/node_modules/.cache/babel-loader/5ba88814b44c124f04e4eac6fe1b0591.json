{"ast":null,"code":"import _objectSpread from\"/home/superproger/workspace/portfolio-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/superproger/workspace/portfolio-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/superproger/workspace/portfolio-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/superproger/workspace/portfolio-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/superproger/workspace/portfolio-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Footer from\"../Footer/Footer\";import Header from\"./Header/Header\";import Main from\"./Main/Main\";import Arrow from\"../Arrow/Arrow\";var RenderEmployee=/*#__PURE__*/function(_Component){_inherits(RenderEmployee,_Component);var _super=_createSuper(RenderEmployee);function RenderEmployee(props){var _this;_classCallCheck(this,RenderEmployee);_this=_super.call(this,props);_this.state={scrollHeight:0,arrow:{disableClickHandler:false,isRender:false,style:{opacity:0},animationSidesStyle:{right:23,deg:45},animationCenterStyle:{right:0,deg:0}}};_this.checkArrowRendering=function(){var scrollHeight=window.scrollY;var clientHeight=document.documentElement.clientHeight;var isRender=_this.state.arrow.isRender;var style=_objectSpread({},_this.state.arrow.style);var animationSidesStyle=_objectSpread({},_this.state.arrow.animationSidesStyle);var animationCenterStyle=_objectSpread({},_this.state.arrow.animationCenterStyle);if(scrollHeight>clientHeight*2){isRender=true;style.opacity=1;_this.setState({arrow:{isRender:isRender,style:style,animationSidesStyle:animationSidesStyle,animationCenterStyle:animationCenterStyle}});}};_this.scrollHandler=function(){var isRender=_this.state.arrow.isRender;var style=_objectSpread({},_this.state.arrow.style);var animationSidesStyle=_objectSpread({},_this.state.arrow.animationSidesStyle);var animationCenterStyle=_objectSpread({},_this.state.arrow.animationCenterStyle);var scrollHeight=window.scrollY;var clientHeight=document.documentElement.clientHeight;_this.setState({scrollHeight:scrollHeight});if(scrollHeight>clientHeight&&style.opacity<1){isRender=true;style.opacity+=0.04;_this.setState({arrow:{isRender:isRender,style:style,animationSidesStyle:animationSidesStyle,animationCenterStyle:animationCenterStyle}});}else if(scrollHeight<clientHeight&&style.opacity>0){style.opacity-=0.1;_this.setState({arrow:{isRender:isRender,style:style,animationSidesStyle:animationSidesStyle,animationCenterStyle:animationCenterStyle}});}if(style.opacity<=0){isRender=false;_this.setState({arrow:{isRender:isRender,style:style,animationSidesStyle:animationSidesStyle,animationCenterStyle:animationCenterStyle}});}};_this.arrowClickHandler=function(){var arrow=_objectSpread({},_this.state.arrow);if(!arrow.disableClickHandler){_this.arrowAnimation();window.scrollTo({top:0,behavior:\"smooth\"});}//disabling click handler while animates\narrow.disableClickHandler=true;_this.setState({arrow:arrow});};//arrow parts animation\n_this.moveSides=function(moveStep,resolve){// return new Promise((resolve, reject) => {\nvar arrow=_objectSpread({},_this.state.arrow);if(moveStep>-27){moveStep-=0.5;arrow.animationSidesStyle.right=moveStep;_this.setState({arrow:arrow});setTimeout(function(){return _this.moveSides(moveStep,resolve);},4);}else{resolve();}// });\n};_this.moveCenterUp=function(moveStep,resolve){var arrow=_objectSpread({},_this.state.arrow);if(moveStep<16){moveStep+=0.5;arrow.animationCenterStyle.right=moveStep;_this.setState({arrow:arrow});setTimeout(function(){return _this.moveCenterUp(moveStep,resolve);},4);}else{resolve();}};_this.moveCenterDown=function(moveStep,resolve){var arrow=_objectSpread({},_this.state.arrow);if(moveStep>-55){moveStep-=0.6;arrow.animationCenterStyle.right=moveStep;_this.setState({arrow:arrow});setTimeout(function(){return _this.moveCenterDown(moveStep,resolve);},4);}else{resolve();}};//TODO: choose a type of animation\n_this.rotating=function(deg,resolve){// return new Promise((resolve, reject) => {\nvar arrow=_objectSpread({},_this.state.arrow);if(deg<225&&arrow.animationSidesStyle.deg!==135){deg+=1;// arrow.animationCenterStyle.deg = deg - 45;\narrow.animationSidesStyle.deg=deg;_this.setState({arrow:arrow});setTimeout(function(){return _this.rotating(deg,resolve);},4);}else{/* else if (deg < 225) {\n               deg += 2;\n               arrow.animationCenterStyle.deg = deg - 45;\n               this.setState({\n                  arrow,\n               });\n               setTimeout(() => {\n                  return this.rotating(deg, resolve);\n               }, 4);  \n            }*/resolve();}// });\n};_this.arrowAnimation=function(){//disabling scroll hadler\nwindow.removeEventListener(\"scroll\",_this.scrollHandler);//move sides\nvar moveSides=new Promise(function(resolve,reject){_this.moveSides(_this.state.arrow.animationSidesStyle.right,resolve);});//moves a center part of the arrow to up and then to down  to get out of the page\nvar moveCenter=new Promise(function(resolve,reject){var moveCenterUp=new Promise(function(resolve,reject){_this.moveCenterUp(_this.state.arrow.animationCenterStyle.right,resolve);});moveCenterUp.then(function(){return _this.moveCenterDown(_this.state.arrow.animationCenterStyle.right,resolve);});});//rotating\nvar rotating=new Promise(function(resolve,reject){_this.rotating(_this.state.arrow.animationSidesStyle.deg,resolve);});//remove the arrow after the end of the animation\nPromise.all([moveSides,moveCenter,rotating]).then(_this.animationArrowEnded);};_this.animationArrowEnded=function(){var arrow=_objectSpread({},_this.state.arrow);arrow.isRender=false;arrow.animationSidesStyle.right=23;arrow.animationSidesStyle.deg=45;arrow.animationCenterStyle.right=0;arrow.animationCenterStyle.deg=0;_this.setState({arrow:arrow});//add scroll handler after arrow removed\n_this.checkArrowRendering();window.addEventListener(\"scroll\",_this.scrollHandler);};return _this;}_createClass(RenderEmployee,[{key:\"componentDidMount\",value:function componentDidMount(){this.checkArrowRendering();window.addEventListener(\"scroll\",this.scrollHandler);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,{employeeInfo:this.props.employee.info,projectsList:this.props.employee.projects}),/*#__PURE__*/React.createElement(Main,{projectsList:this.props.employee.projects}),/*#__PURE__*/React.createElement(Footer,null),this.state.arrow.isRender?/*#__PURE__*/React.createElement(Arrow,{arrowStyle:this.state.arrow.style,animationSidesStyle:this.state.arrow.animationSidesStyle,rotatingSidesDeg:this.state.arrow.animationSidesStyle.deg,animationCenterStyle:this.state.arrow.animationCenterStyle,rotatingCenterDeg:this.state.arrow.animationCenterStyle.deg,arrowId:\"ToTop\",type:\"toTop\",arrowClickHandler:this.arrowClickHandler}):null);}}]);return RenderEmployee;}(Component);export default RenderEmployee;","map":{"version":3,"sources":["/home/superproger/workspace/portfolio-react/client/src/components/Employee/Employee.js"],"names":["React","Component","Footer","Header","Main","Arrow","RenderEmployee","props","state","scrollHeight","arrow","disableClickHandler","isRender","style","opacity","animationSidesStyle","right","deg","animationCenterStyle","checkArrowRendering","window","scrollY","clientHeight","document","documentElement","setState","scrollHandler","arrowClickHandler","arrowAnimation","scrollTo","top","behavior","moveSides","moveStep","resolve","setTimeout","moveCenterUp","moveCenterDown","rotating","removeEventListener","Promise","reject","moveCenter","then","all","animationArrowEnded","addEventListener","employee","info","projects"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Footer from \"../Footer/Footer\";\nimport Header from \"./Header/Header\";\nimport Main from \"./Main/Main\";\nimport Arrow from \"../Arrow/Arrow\";\n\nclass RenderEmployee extends Component {\n   constructor(props) {\n      super(props);\n      this.state = {\n         scrollHeight: 0,\n         arrow: {\n            disableClickHandler: false,\n            isRender: false,\n            style: {\n               opacity: 0,\n            },\n            animationSidesStyle: {\n               right: 23,\n               deg: 45,\n            },\n            animationCenterStyle: {\n               right: 0,\n               deg: 0,\n            },\n         },\n      };\n      this.checkArrowRendering = () => {\n         const scrollHeight = window.scrollY;\n         const clientHeight = document.documentElement.clientHeight;\n         let isRender = this.state.arrow.isRender;\n         let style = { ...this.state.arrow.style };\n         let animationSidesStyle = { ...this.state.arrow.animationSidesStyle };\n         let animationCenterStyle = {\n            ...this.state.arrow.animationCenterStyle,\n         };\n         if (scrollHeight > clientHeight * 2) {\n            isRender = true;\n            style.opacity = 1;\n            this.setState({\n               arrow: {\n                  isRender,\n                  style,\n                  animationSidesStyle,\n                  animationCenterStyle,\n               },\n            });\n         }\n      };\n      this.scrollHandler = () => {\n         let isRender = this.state.arrow.isRender;\n         let style = { ...this.state.arrow.style };\n         let animationSidesStyle = { ...this.state.arrow.animationSidesStyle };\n         let animationCenterStyle = {\n            ...this.state.arrow.animationCenterStyle,\n         };\n         const scrollHeight = window.scrollY;\n         const clientHeight = document.documentElement.clientHeight;\n         this.setState({ scrollHeight });\n         if (scrollHeight > clientHeight && style.opacity < 1) {\n            isRender = true;\n            style.opacity += 0.04;\n            this.setState({\n               arrow: {\n                  isRender,\n                  style,\n                  animationSidesStyle,\n                  animationCenterStyle,\n               },\n            });\n         } else if (scrollHeight < clientHeight && style.opacity > 0) {\n            style.opacity -= 0.1;\n            this.setState({\n               arrow: {\n                  isRender,\n                  style,\n                  animationSidesStyle,\n                  animationCenterStyle,\n               },\n            });\n         }\n         if (style.opacity <= 0) {\n            isRender = false;\n            this.setState({\n               arrow: {\n                  isRender,\n                  style,\n                  animationSidesStyle,\n                  animationCenterStyle,\n               },\n            });\n         }\n      };\n      this.arrowClickHandler = () => {\n         let arrow = { ...this.state.arrow };\n         if (!arrow.disableClickHandler) {\n            this.arrowAnimation();\n            window.scrollTo({\n               top: 0,\n               behavior: \"smooth\",\n            });\n         }\n         //disabling click handler while animates\n         arrow.disableClickHandler = true;\n         this.setState({\n            arrow,\n         });\n      };\n      //arrow parts animation\n      this.moveSides = (moveStep, resolve) => {\n         // return new Promise((resolve, reject) => {\n         let arrow = { ...this.state.arrow };\n         if (moveStep > -27) {\n            moveStep -= 0.5;\n            arrow.animationSidesStyle.right = moveStep;\n            this.setState({\n               arrow,\n            });\n            setTimeout(() => {\n               return this.moveSides(moveStep, resolve);\n            }, 4);\n         } else {\n            resolve();\n         }\n         // });\n      };\n      this.moveCenterUp = (moveStep, resolve) => {\n         let arrow = { ...this.state.arrow };\n         if (moveStep < 16) {\n            moveStep += 0.5;\n            arrow.animationCenterStyle.right = moveStep;\n            this.setState({\n               arrow,\n            });\n            setTimeout(() => {\n               return this.moveCenterUp(moveStep, resolve);\n            }, 4);\n         } else {\n            resolve();\n         }\n      };\n      this.moveCenterDown = (moveStep, resolve) => {\n         let arrow = { ...this.state.arrow };\n         if (moveStep > -55) {\n            moveStep -= 0.6;\n            arrow.animationCenterStyle.right = moveStep;\n            this.setState({\n               arrow,\n            });\n            setTimeout(() => {\n               return this.moveCenterDown(moveStep, resolve);\n            }, 4);\n         } else {\n            resolve();\n         }\n      };\n      //TODO: choose a type of animation\n      this.rotating = (deg, resolve) => {\n         // return new Promise((resolve, reject) => {\n         let arrow = { ...this.state.arrow };\n         if (deg < 225 && arrow.animationSidesStyle.deg !== 135) {\n            deg += 1;\n            // arrow.animationCenterStyle.deg = deg - 45;\n            arrow.animationSidesStyle.deg = deg;\n            this.setState({\n               arrow,\n            });\n            setTimeout(() => {\n               return this.rotating(deg, resolve);\n            }, 4);\n         } else {\n            /* else if (deg < 225) {\n               deg += 2;\n               arrow.animationCenterStyle.deg = deg - 45;\n               this.setState({\n                  arrow,\n               });\n               setTimeout(() => {\n                  return this.rotating(deg, resolve);\n               }, 4);  \n            }*/\n            resolve();\n         }\n         // });\n      };\n      this.arrowAnimation = () => {\n         //disabling scroll hadler\n         window.removeEventListener(\"scroll\", this.scrollHandler);\n         //move sides\n         const moveSides = new Promise((resolve, reject) => {\n            this.moveSides(this.state.arrow.animationSidesStyle.right, resolve);\n         });\n         //moves a center part of the arrow to up and then to down  to get out of the page\n         const moveCenter = new Promise((resolve, reject) => {\n            const moveCenterUp = new Promise((resolve, reject) => {\n               this.moveCenterUp(\n                  this.state.arrow.animationCenterStyle.right,\n                  resolve\n               );\n            });\n            moveCenterUp.then(() =>\n               this.moveCenterDown(\n                  this.state.arrow.animationCenterStyle.right,\n                  resolve\n               )\n            );\n         });\n         //rotating\n         const rotating = new Promise((resolve, reject) => {\n            this.rotating(this.state.arrow.animationSidesStyle.deg, resolve);\n         });\n         //remove the arrow after the end of the animation\n         Promise.all([moveSides, moveCenter, rotating]).then(\n            this.animationArrowEnded\n         );\n      };\n      this.animationArrowEnded = () => {\n         let arrow = { ...this.state.arrow };\n         arrow.isRender = false;\n         arrow.animationSidesStyle.right = 23;\n         arrow.animationSidesStyle.deg = 45;\n         arrow.animationCenterStyle.right = 0;\n         arrow.animationCenterStyle.deg = 0;\n         this.setState({ arrow });\n         //add scroll handler after arrow removed\n         this.checkArrowRendering();\n         window.addEventListener(\"scroll\", this.scrollHandler);\n      };\n   }\n\n   componentDidMount() {\n      this.checkArrowRendering();\n      window.addEventListener(\"scroll\", this.scrollHandler);\n   }\n\n   render() {\n      \n      return (\n         <React.Fragment>\n            <Header\n               employeeInfo={this.props.employee.info}\n               projectsList={this.props.employee.projects}\n            />\n            <Main projectsList={this.props.employee.projects} />\n            <Footer />\n            {this.state.arrow.isRender ? (\n               <Arrow\n                  arrowStyle={this.state.arrow.style}\n                  animationSidesStyle={this.state.arrow.animationSidesStyle}\n                  rotatingSidesDeg={this.state.arrow.animationSidesStyle.deg}\n                  animationCenterStyle={this.state.arrow.animationCenterStyle}\n                  rotatingCenterDeg={this.state.arrow.animationCenterStyle.deg}\n                  arrowId=\"ToTop\"\n                  type=\"toTop\"\n                  arrowClickHandler={this.arrowClickHandler}\n               />\n            ) : null}\n         </React.Fragment>\n      );\n   }\n}\n\nexport default RenderEmployee;\n"]},"metadata":{},"sourceType":"module"}