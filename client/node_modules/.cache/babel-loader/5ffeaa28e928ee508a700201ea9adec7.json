{"ast":null,"code":"var _jsxFileName = \"/home/superproger/workspace/portfolio-react/client/src/components/ProjectsNav/NavItem/NavItem.js\";\nimport React, { Component } from \"react\";\nimport ProjectsListItem from \"./ProjectsListItem/ProjectsListItem\";\n\nclass NavItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listPosition: {\n        right: null,\n        bottom: null\n      }\n    };\n  }\n\n  render() {\n    console.log(this.props);\n    const filteredCategoryProjectsList = this.props.projectsList.filter(project => {\n      if (project.category) {\n        return project.category.toUpperCase().trim() === this.props.category.toUpperCase().trim();\n      }\n\n      return null;\n    }); //create the child items of the filtering projects list\n\n    const hoveredCurrentList = React.createRef();\n    const hoveredCurrentListLastChild = React.createRef();\n    const filteredCategorydProjectsListItems = filteredCategoryProjectsList.map((project, index) => {\n      if (index === filteredCategoryProjectsList.length - 1) {\n        return /*#__PURE__*/React.createElement(ProjectsListItem, {\n          ref: hoveredCurrentListLastChild,\n          key: index,\n          projectTitle: project.title,\n          projectLinkHref: project.id,\n          linkType: this.props.liClass,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 19\n          }\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(ProjectsListItem, {\n          key: index,\n          projectTitle: project.title,\n          projectLinkHref: project.title,\n          linkType: this.props.liClass,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 19\n          }\n        });\n      }\n    }); //positioning a listwith category projects\n\n    const changePosition = {\n      setHeaderNavPosition: difference => {\n        this.setState({\n          listPosition: {\n            right: difference\n          }\n        });\n      },\n      setReviewNavPosition: difference => {\n        this.setState({\n          listPosition: {\n            bottom: -difference\n          }\n        });\n      },\n\n      positioningHeaderList(lastChildRef) {\n        const lastChild = lastChildRef.current;\n\n        if (lastChild !== null) {\n          let positionRight = lastChild.getBoundingClientRect().right;\n          const clientScreenWidth = document.body.offsetWidth;\n\n          if (positionRight !== null) {\n            if (positionRight > clientScreenWidth) {\n              let difference = positionRight - clientScreenWidth;\n              this.setHeaderNavPosition(difference);\n            }\n          }\n        }\n      },\n\n      positioningReviewList(hoveredCurrentList) {\n        const listBottom = hoveredCurrentList.current.getBoundingClientRect().bottom;\n        const extremeBottom = document.querySelector(\".projectReview-nav\").getBoundingClientRect().bottom;\n\n        if (listBottom > extremeBottom) {\n          let difference = listBottom - extremeBottom;\n          this.setReviewNavPosition(difference);\n        }\n      },\n\n      removePositionList: () => {\n        this.setState({\n          listPosition: null\n        });\n      }\n    };\n\n    const positioningList = classValue => {\n      if (classValue === \"header-nav-ul-li\".trim()) {\n        return changePosition.positioningHeaderList(hoveredCurrentListLastChild);\n      } else if (classValue === \"projectReview-nav-ul-li\".trim()) {\n        return changePosition.positioningReviewList(hoveredCurrentList);\n      }\n    };\n\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: this.props.hasOwnProperty(\"liClass\") ? this.props.liClass : null,\n      onMouseEnter: () => {\n        positioningList(this.props.liClass);\n      },\n      onMouseLeave: changePosition.removePositionList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 10\n      }\n    }, this.props.category, /*#__PURE__*/React.createElement(\"ul\", {\n      ref: hoveredCurrentList,\n      style: this.state.listPosition,\n      className: \"menu-projects-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, filteredCategorydProjectsListItems.length !== 0 ? filteredCategorydProjectsListItems : /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#!\",\n      className: \"a__disabled\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 22\n      }\n    }, \"Sorry, no projects\"))));\n  }\n\n}\n\nexport default NavItem;","map":{"version":3,"sources":["/home/superproger/workspace/portfolio-react/client/src/components/ProjectsNav/NavItem/NavItem.js"],"names":["React","Component","ProjectsListItem","NavItem","constructor","props","state","listPosition","right","bottom","render","console","log","filteredCategoryProjectsList","projectsList","filter","project","category","toUpperCase","trim","hoveredCurrentList","createRef","hoveredCurrentListLastChild","filteredCategorydProjectsListItems","map","index","length","title","id","liClass","changePosition","setHeaderNavPosition","difference","setState","setReviewNavPosition","positioningHeaderList","lastChildRef","lastChild","current","positionRight","getBoundingClientRect","clientScreenWidth","document","body","offsetWidth","positioningReviewList","listBottom","extremeBottom","querySelector","removePositionList","positioningList","classValue","hasOwnProperty"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ProjectsListItem from \"./ProjectsListItem/ProjectsListItem\";\n\nclass NavItem extends Component {\n   constructor(props) {\n      super(props);\n      this.state = {\n         listPosition: {\n            right: null,\n            bottom: null,\n         },\n      };\n   }\n\n   render() {\n      console.log(this.props)\n      const filteredCategoryProjectsList = this.props.projectsList.filter(\n         (project) => {\n            if (project.category) {\n               return (\n                  project.category.toUpperCase().trim() ===\n                  this.props.category.toUpperCase().trim()\n               );\n            }\n            return null;\n         }\n      );\n      //create the child items of the filtering projects list\n      const hoveredCurrentList = React.createRef();\n      const hoveredCurrentListLastChild = React.createRef();\n      const filteredCategorydProjectsListItems = filteredCategoryProjectsList.map(\n         (project, index) => {\n            if (index === filteredCategoryProjectsList.length - 1) {\n               return (\n                  <ProjectsListItem\n                     ref={hoveredCurrentListLastChild}\n                     key={index}\n                     projectTitle={project.title}\n                     projectLinkHref={project.id}\n                     linkType={this.props.liClass}\n                  />\n               );\n            } else {\n               return (\n                  <ProjectsListItem\n                     key={index}\n                     projectTitle={project.title}\n                     projectLinkHref={project.title}\n                     linkType={this.props.liClass}\n                  />\n               );\n            }\n         }\n      );\n      //positioning a listwith category projects\n      const changePosition = {\n         setHeaderNavPosition: (difference) => {\n            this.setState({ listPosition: { right: difference } });\n         },\n         setReviewNavPosition: (difference) => {\n            this.setState({ listPosition: { bottom: -difference } });\n         },\n         positioningHeaderList(lastChildRef) {\n            const lastChild = lastChildRef.current;\n            if (lastChild !== null) {\n               let positionRight = lastChild.getBoundingClientRect().right;\n               const clientScreenWidth = document.body.offsetWidth;\n               if (positionRight !== null) {\n                  if (positionRight > clientScreenWidth) {\n                     let difference = positionRight - clientScreenWidth;\n                     this.setHeaderNavPosition(difference);\n                  }\n               }\n            }\n         },\n         positioningReviewList(hoveredCurrentList) {\n            const listBottom = hoveredCurrentList.current.getBoundingClientRect()\n               .bottom;\n            const extremeBottom = document\n               .querySelector(\".projectReview-nav\")\n               .getBoundingClientRect().bottom;\n            if (listBottom > extremeBottom) {\n               let difference = listBottom - extremeBottom;\n               this.setReviewNavPosition(difference);\n            }\n         },\n         removePositionList: () => {\n            this.setState({\n               listPosition: null,\n            });\n         },\n      };\n      const positioningList = (classValue) => {\n         if (classValue === \"header-nav-ul-li\".trim()) {\n            return changePosition.positioningHeaderList(\n               hoveredCurrentListLastChild\n            );\n         } else if (classValue === \"projectReview-nav-ul-li\".trim()) {\n            return changePosition.positioningReviewList(hoveredCurrentList);\n         }\n      };\n\n      return (\n         <li\n            className={\n               this.props.hasOwnProperty(\"liClass\") ? this.props.liClass : null\n            }\n            onMouseEnter={() => {\n               positioningList(this.props.liClass);\n            }}\n            onMouseLeave={changePosition.removePositionList}\n         >\n            {this.props.category}\n            <ul\n               ref={hoveredCurrentList}\n               style={this.state.listPosition}\n               className=\"menu-projects-list\"\n            >\n               {filteredCategorydProjectsListItems.length !== 0 ? (\n                  filteredCategorydProjectsListItems\n               ) : (\n                  <li>\n                     <a href=\"#!\" className=\"a__disabled\">\n                        Sorry, no projects\n                     </a>\n                  </li>\n               )}\n            </ul>\n         </li>\n      );\n   }\n}\n\nexport default NavItem;\n"]},"metadata":{},"sourceType":"module"}